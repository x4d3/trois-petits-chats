<!DOCTYPE html>
<meta charset="utf-8">
<html lang="fr">

<head>
    <title>Trois petits chats</title>
    <link rel="canonical" href="https://x4d3.github.io/trois-petits-chats/" />

    <meta property="og:title" content="Trois petits chats">
    <meta property="og:locale" content="fr_FR" />
    <meta property="og:description" content="Visualiser la célèbre chanson">
    <meta property="og:url" content="https://x4d3.github.io/trois-petits-chats/">
    <meta name="twitter:card" content="summary">

    <link rel="stylesheet" href="simple.css">

    <script src="//d3js.org/d3.v5.min.js"></script>
    <script src="https://unpkg.com/@hpcc-js/wasm@0.3.11/dist/index.min.js"></script>
    <script src="https://unpkg.com/d3-graphviz@3.0.5/build/d3-graphviz.js"></script>
</head>

<body>
    <header>
        <h1>Trois petits chats</h1>
    </header>

    <p>
        Vous pouvez zoomer en scrollant.
        Le code source est <a href="https://github.com/x4d3/trois-petits-chats">ici</a>.
    </p>

    <div id="graph" style="text-align: center; width: 100%;">
        Chargement ⏳
    </div>

    <script type="module">
        const margin = 20; // to avoid scrollbars
        const width = window.innerWidth - margin;
        const height = window.innerHeight - margin;

        const file = await fetch("trois-petits-chats.dot");
        const dot = await file.text();
        // Remove loading
        const graphDiv = document.getElementById("graph")
        graphDiv.innerHTML = '';

        d3.select("#graph").graphviz({
            width: width,
            height: height,
            fit: true
        }).renderDot(dot).zoom(true);
    </script>
</body>

</html>